{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sridh\\\\Desktop\\\\new-exam-builder-ace-main\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Auth from \"./Auth\";\nimport Dashboard from \"./Dashboard\";\nimport Exam from \"./Exam\";\nimport Results from \"./Results\";\nimport { checkExamStatus } from \"./api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\n  const [route, setRoute] = useState(window.location.hash.replace(\"#/\", \"\") || \"dashboard\");\n  const [submitted, setSubmitted] = useState(false);\n  const [userId, setUserId] = useState(localStorage.getItem(\"userId\") || null);\n  useEffect(() => {\n    const onHashChange = () => {\n      setRoute(window.location.hash.replace(\"#/\", \"\") || \"dashboard\");\n    };\n    window.addEventListener(\"hashchange\", onHashChange);\n    return () => window.removeEventListener(\"hashchange\", onHashChange);\n  }, []);\n  useEffect(() => {\n    if (!token) return;\n    checkExamStatus(token).then(res => setSubmitted(res.data.taken)).catch(err => console.error(err));\n  }, [token]);\n  const handleAuth = (t, id, username) => {\n    setToken(t);\n    setUserId(id);\n    localStorage.setItem(\"token\", t);\n    localStorage.setItem(\"userId\", id);\n    localStorage.setItem(\"username\", username);\n    window.location.hash = \"#/dashboard\";\n  };\n  const handleLogout = () => {\n    setToken(null);\n    setUserId(null);\n    localStorage.clear();\n    window.location.hash = \"#/login\";\n  };\n  if (!token) {\n    if (route === \"login\" || route === \"\") return /*#__PURE__*/_jsxDEV(Auth, {\n      onAuth: handleAuth\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 51\n    }, this);\n    window.location.hash = \"#/login\";\n    return null;\n  }\n  if (route === \"dashboard\") return /*#__PURE__*/_jsxDEV(Dashboard, {\n    onLogout: handleLogout,\n    submitted: submitted\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 37\n  }, this);\n  if (route === \"exam\") return /*#__PURE__*/_jsxDEV(Exam, {\n    token: token\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 32\n  }, this);\n  if (route === \"results\") return /*#__PURE__*/_jsxDEV(Results, {\n    token: token\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 35\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Dashboard, {\n    onLogout: handleLogout,\n    submitted: submitted\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 10\n  }, this);\n}\n_s(App, \"dJRGnQWlNtXAjUFTpwvym59qi+I=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Auth","Dashboard","Exam","Results","checkExamStatus","jsxDEV","_jsxDEV","App","_s","token","setToken","localStorage","getItem","route","setRoute","window","location","hash","replace","submitted","setSubmitted","userId","setUserId","onHashChange","addEventListener","removeEventListener","then","res","data","taken","catch","err","console","error","handleAuth","t","id","username","setItem","handleLogout","clear","onAuth","fileName","_jsxFileName","lineNumber","columnNumber","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/Sridh/Desktop/new-exam-builder-ace-main/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Auth from \"./Auth\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport Exam from \"./Exam\";\r\nimport Results from \"./Results\";\r\nimport { checkExamStatus } from \"./api\";\r\n\r\nfunction App() {\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\r\n  const [route, setRoute] = useState(window.location.hash.replace(\"#/\", \"\") || \"dashboard\");\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [userId, setUserId] = useState(localStorage.getItem(\"userId\") || null);\r\n\r\n  useEffect(() => {\r\n    const onHashChange = () => {\r\n      setRoute(window.location.hash.replace(\"#/\", \"\") || \"dashboard\");\r\n    };\r\n    window.addEventListener(\"hashchange\", onHashChange);\r\n    return () => window.removeEventListener(\"hashchange\", onHashChange);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!token) return;\r\n    checkExamStatus(token)\r\n      .then((res) => setSubmitted(res.data.taken))\r\n      .catch((err) => console.error(err));\r\n  }, [token]);\r\n\r\n  const handleAuth = (t, id, username) => {\r\n    setToken(t);\r\n    setUserId(id);\r\n    localStorage.setItem(\"token\", t);\r\n    localStorage.setItem(\"userId\", id);\r\n    localStorage.setItem(\"username\", username);\r\n    window.location.hash = \"#/dashboard\";\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setToken(null);\r\n    setUserId(null);\r\n    localStorage.clear();\r\n    window.location.hash = \"#/login\";\r\n  };\r\n\r\n  if (!token) {\r\n    if (route === \"login\" || route === \"\") return <Auth onAuth={handleAuth} />;\r\n    window.location.hash = \"#/login\";\r\n    return null;\r\n  }\r\n\r\n  if (route === \"dashboard\") return <Dashboard onLogout={handleLogout} submitted={submitted} />;\r\n  if (route === \"exam\") return <Exam token={token} />;\r\n  if (route === \"results\") return <Results token={token} />;\r\n\r\n  return <Dashboard onLogout={handleLogout} submitted={submitted} />;\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}