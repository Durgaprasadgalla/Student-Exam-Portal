{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sridh\\\\Desktop\\\\new-exam-builder-ace-main\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Auth from \"./Auth\";\nimport Dashboard from \"./Dashboard\";\nimport Exam from \"./Exam\";\nimport Results from \"./Results\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n  const [userId, setUserId] = useState(localStorage.getItem(\"userId\") || \"\");\n  const [page, setPage] = useState(\"login\");\n  useEffect(() => {\n    const handleHashChange = () => {\n      let hash = window.location.hash.replace(\"#/\", \"\");\n      const savedQuestions = localStorage.getItem(\"exam_questions\");\n      const savedAnswers = localStorage.getItem(\"exam_answers\");\n      const savedTime = localStorage.getItem(\"exam_timeLeft\");\n\n      // Exam in progress → return to exam page\n      if (savedQuestions && savedAnswers && savedTime && hash !== \"exam\" && hash !== \"results\") {\n        hash = \"exam\";\n        window.location.hash = \"#/exam\";\n      }\n\n      // ✅ Allow staying on results page after refresh\n      if (hash === \"results\") {\n        setPage(\"results\");\n        return;\n      }\n      if (hash) {\n        setPage(hash);\n      } else {\n        setPage(token ? \"dashboard\" : \"login\");\n        window.location.hash = token ? \"#/dashboard\" : \"#/login\";\n      }\n    };\n    window.addEventListener(\"hashchange\", handleHashChange);\n    handleHashChange(); // Run on first load\n    return () => window.removeEventListener(\"hashchange\", handleHashChange);\n  }, [token]);\n  const handleAuth = (newToken, newUserId) => {\n    localStorage.setItem(\"token\", newToken);\n    localStorage.setItem(\"userId\", newUserId);\n    setToken(newToken);\n    setUserId(newUserId);\n    window.location.hash = \"#/dashboard\";\n  };\n  const handleLogout = () => {\n    localStorage.clear();\n    setToken(\"\");\n    setUserId(\"\");\n    window.location.hash = \"#/login\";\n  };\n  if (!token) return /*#__PURE__*/_jsxDEV(Auth, {\n    onAuth: handleAuth\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 22\n  }, this);\n  switch (page) {\n    case \"dashboard\":\n      return /*#__PURE__*/_jsxDEV(Dashboard, {\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 14\n      }, this);\n    case \"exam\":\n      return /*#__PURE__*/_jsxDEV(Exam, {\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 14\n      }, this);\n    case \"results\":\n      return /*#__PURE__*/_jsxDEV(Results, {\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 14\n      }, this);\n    default:\n      window.location.hash = \"#/dashboard\";\n      return null;\n  }\n}\n_s(App, \"GXrp4j/Y0Tt8jZo0JcC3xZjEa4w=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Auth","Dashboard","Exam","Results","jsxDEV","_jsxDEV","App","_s","token","setToken","localStorage","getItem","userId","setUserId","page","setPage","handleHashChange","hash","window","location","replace","savedQuestions","savedAnswers","savedTime","addEventListener","removeEventListener","handleAuth","newToken","newUserId","setItem","handleLogout","clear","onAuth","fileName","_jsxFileName","lineNumber","columnNumber","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/Sridh/Desktop/new-exam-builder-ace-main/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Auth from \"./Auth\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport Exam from \"./Exam\";\r\nimport Results from \"./Results\";\r\n\r\nfunction App() {\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\r\n  const [userId, setUserId] = useState(localStorage.getItem(\"userId\") || \"\");\r\n  const [page, setPage] = useState(\"login\");\r\n\r\n  useEffect(() => {\r\n    const handleHashChange = () => {\r\n      let hash = window.location.hash.replace(\"#/\", \"\");\r\n\r\n      const savedQuestions = localStorage.getItem(\"exam_questions\");\r\n      const savedAnswers = localStorage.getItem(\"exam_answers\");\r\n      const savedTime = localStorage.getItem(\"exam_timeLeft\");\r\n\r\n      // Exam in progress → return to exam page\r\n      if (savedQuestions && savedAnswers && savedTime && hash !== \"exam\" && hash !== \"results\") {\r\n        hash = \"exam\";\r\n        window.location.hash = \"#/exam\";\r\n      }\r\n\r\n      // ✅ Allow staying on results page after refresh\r\n      if (hash === \"results\") {\r\n        setPage(\"results\");\r\n        return;\r\n      }\r\n\r\n      if (hash) {\r\n        setPage(hash);\r\n      } else {\r\n        setPage(token ? \"dashboard\" : \"login\");\r\n        window.location.hash = token ? \"#/dashboard\" : \"#/login\";\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"hashchange\", handleHashChange);\r\n    handleHashChange(); // Run on first load\r\n    return () => window.removeEventListener(\"hashchange\", handleHashChange);\r\n  }, [token]);\r\n\r\n  const handleAuth = (newToken, newUserId) => {\r\n    localStorage.setItem(\"token\", newToken);\r\n    localStorage.setItem(\"userId\", newUserId);\r\n    setToken(newToken);\r\n    setUserId(newUserId);\r\n    window.location.hash = \"#/dashboard\";\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    setToken(\"\");\r\n    setUserId(\"\");\r\n    window.location.hash = \"#/login\";\r\n  };\r\n\r\n  if (!token) return <Auth onAuth={handleAuth} />;\r\n\r\n  switch (page) {\r\n    case \"dashboard\":\r\n      return <Dashboard onLogout={handleLogout} />;\r\n    case \"exam\":\r\n      return <Exam token={token} />;\r\n    case \"results\":\r\n      return <Results token={token} />;\r\n    default:\r\n      window.location.hash = \"#/dashboard\";\r\n      return null;\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}