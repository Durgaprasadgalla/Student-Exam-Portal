{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sridh\\\\Desktop\\\\new-exam-builder-ace-main\\\\frontend\\\\src\\\\Exam.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";   // âœ… Add this line\n// import { getQuestions, submitExam, getResult } from \"./api\";\n// import \"./Exam.css\";\n\n// function Exam({ token }) {\n//   const [questions, setQuestions] = useState([]);\n//   const [answers, setAnswers] = useState([]);\n//   const [current, setCurrent] = useState(0);\n//   const [submitted, setSubmitted] = useState(false);\n//   const [result, setResult] = useState(null);\n//   const [timeLeft, setTimeLeft] = useState(30 * 60);\n\n//   const shuffleArray = (arr) => {\n//     let newArr = [...arr];\n//     for (let i = newArr.length - 1; i > 0; i--) {\n//       const j = Math.floor(Math.random() * (i + 1));\n//       [newArr[i], newArr[j]] = [newArr[j], newArr[i]];\n//     }\n//     return newArr;\n//   };\n\n//   // Load state or fetch\n//   useEffect(() => {\n//     const storedQuestions = localStorage.getItem(\"exam_questions\");\n//     const storedAnswers = localStorage.getItem(\"exam_answers\");\n//     const storedCurrent = localStorage.getItem(\"exam_current\");\n//     const storedTimeLeft = localStorage.getItem(\"exam_timeLeft\");\n\n//     if (storedQuestions && storedAnswers && storedCurrent && storedTimeLeft) {\n//       setQuestions(JSON.parse(storedQuestions));\n//       setAnswers(JSON.parse(storedAnswers));\n//       setCurrent(parseInt(storedCurrent, 10));\n//       setTimeLeft(parseInt(storedTimeLeft, 10));\n//     } else {\n//       getQuestions(token).then((res) => {\n//         const shuffled = shuffleArray(res.data);\n//         setQuestions(shuffled);\n//         setAnswers(Array(shuffled.length).fill(null));\n//         localStorage.setItem(\"exam_questions\", JSON.stringify(shuffled));\n//         localStorage.setItem(\"exam_answers\", JSON.stringify(Array(shuffled.length).fill(null)));\n//         localStorage.setItem(\"exam_current\", 0);\n//         localStorage.setItem(\"exam_timeLeft\", 30 * 60);\n//       });\n//     }\n//   }, [token]);\n\n//   // Save progress\n//   useEffect(() => {\n//     if (questions.length && !submitted) {\n//       localStorage.setItem(\"exam_questions\", JSON.stringify(questions));\n//       localStorage.setItem(\"exam_answers\", JSON.stringify(answers));\n//       localStorage.setItem(\"exam_current\", current);\n//       localStorage.setItem(\"exam_timeLeft\", timeLeft);\n//     }\n//   }, [questions, answers, current, timeLeft, submitted]);\n\n//   // Timer\n//   useEffect(() => {\n//     if (!questions.length || submitted) return;\n//     if (timeLeft <= 0) {\n//       handleSubmit();\n//       return;\n//     }\n//     const timer = setTimeout(() => {\n//       setTimeLeft((t) => {\n//         localStorage.setItem(\"exam_timeLeft\", t - 1);\n//         return t - 1;\n//       });\n//     }, 1000);\n//     return () => clearTimeout(timer);\n//   }, [questions.length, submitted, timeLeft]);\n\n//   const handleOption = (idx) => {\n//     const newAnswers = [...answers];\n//     newAnswers[current] = idx;\n//     setAnswers(newAnswers);\n//   };\n\n//   const handleSubmit = () => {\n//     if (submitted) return;\n//     const payload = questions.map((q, i) => ({ questionId: q._id, selectedOption: answers[i] }));\n\n//     submitExam(payload, token)\n//       .then(() => {\n//         setSubmitted(true);\n//         localStorage.removeItem(\"exam_questions\");\n//         localStorage.removeItem(\"exam_answers\");\n//         localStorage.removeItem(\"exam_current\");\n//         localStorage.removeItem(\"exam_timeLeft\");\n\n//         getResult(token).then((r) => {\n//           setResult(r.data);\n//           window.location.hash = \"#/results\";\n//         });\n//       })\n//       .catch(() => alert(\"Error submitting exam. Please try again.\"));\n//   };\n\n//   if (!questions.length && !submitted) return <div className=\"exam-container\">Loading questions...</div>;\n//   if (submitted && result)\n//     return (\n//       <div className=\"exam-container\">\n//         <h2>Exam Submitted</h2>\n//         <div>\n//           Score: {result.score} / {result.review.length}\n//         </div>\n//         <button onClick={() => (window.location.hash = \"#/dashboard\")}>Return to Dashboard</button>\n//       </div>\n//     );\n\n//   const q = questions[current];\n//   const minutes = Math.floor(timeLeft / 60);\n//   const seconds = timeLeft % 60;\n\n//   return (\n//     <div className=\"exam-container\">\n//       <div style={{ textAlign: \"right\", color: \"#d32f2f\", fontWeight: 600 }}>\n//         Time Left: {minutes.toString().padStart(2, \"0\")}:{seconds.toString().padStart(2, \"0\")}\n//       </div>\n//       <h3>\n//         Question {current + 1} of {questions.length}\n//       </h3>\n//       <div>{q.question}</div>\n//       <ul style={{ listStyle: \"none\", padding: 0 }}>\n//         {q.options.map((opt, idx) => (\n//           <li\n//             key={idx}\n//             onClick={() => handleOption(idx)}\n//             style={{\n//               padding: \"8px\",\n//               margin: \"6px 0\",\n//               border: answers[current] === idx ? \"2px solid #1976d2\" : \"2px solid #ccc\",\n//               borderRadius: 6,\n//               backgroundColor: answers[current] === idx ? \"#e3f2fd\" : \"#fff\",\n//               cursor: \"pointer\",\n//             }}\n//           >\n//             {String.fromCharCode(65 + idx)}. {opt}\n//           </li>\n//         ))}\n//       </ul>\n//       <div style={{ display: \"flex\", gap: \"12px\", marginTop: \"16px\" }}>\n//         <button disabled={current === 0} onClick={() => setCurrent((c) => c - 1)}>\n//           Previous\n//         </button>\n//         <button disabled={current === questions.length - 1} onClick={() => setCurrent((c) => c + 1)}>\n//           Next\n//         </button>\n//         <button onClick={handleSubmit}>Submit Exam</button>\n//       </div>\n//     </div>\n//   );\n// }\n\n// import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\n// import \"./Exam.css\";\n// // Before: import { getQuestions, submitExam, getResult } from \"./api\";\n// import { getQuestions, submitExam, getResult } from \"./api.js\";\n\n// function Exam({ token }) {\n//   const [questions, setQuestions] = useState([]);\n//   const [answers, setAnswers] = useState([]);\n//   const [current, setCurrent] = useState(0);\n//   const [submitted, setSubmitted] = useState(false);\n//   const [result, setResult] = useState(null);\n//   const [timeLeft, setTimeLeft] = useState(30 * 60);\n\n//   // Fetch questions from backend\n//   useEffect(() => {\n//     if (!token) return;\n\n//     axios\n//       .get(\"http://localhost:5000/api/exam/questions\", {\n//         headers: { Authorization: `Bearer ${token}` },\n//       })\n//       .then((res) => {\n//         setQuestions(res.data);\n//         setAnswers(Array(res.data.length).fill(null));\n//       })\n//       .catch((err) => console.error(\"Failed to fetch questions:\", err));\n//   }, [token]);\n\n//   // Timer\n//   useEffect(() => {\n//     if (!questions.length || submitted) return;\n//     if (timeLeft <= 0) {\n//       handleSubmit();\n//       return;\n//     }\n//     const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\n//     return () => clearTimeout(timer);\n//   }, [timeLeft, questions.length, submitted]);\n\n//   const handleOption = (idx) => {\n//     const newAnswers = [...answers];\n//     newAnswers[current] = idx;\n//     setAnswers(newAnswers);\n//   };\n\n//   const handleSubmit = () => {\n//   if (submitted) return;\n\n//   const payload = questions.map((q, i) => ({\n//     questionId: q._id,\n//     selectedOption: answers[i],\n//   }));\n\n//   submitExam(payload, token)\n//     .then((res) => {\n//       setSubmitted(true);\n//       localStorage.removeItem(\"exam_questions\");\n//       localStorage.removeItem(\"exam_answers\");\n//       localStorage.removeItem(\"exam_current\");\n//       localStorage.removeItem(\"exam_timeLeft\");\n\n//       // Fetch result immediately\n//       getResult(token)\n//         .then((r) => {\n//           setResult(r.data);\n//           window.location.hash = \"#/results\";\n//         })\n//         .catch((err) => console.error(err));\n//     })\n//     .catch((err) => {\n//       console.error(err);\n//       alert(err.response?.data?.message || \"Error submitting exam\");\n//     });\n// };\n\n//   if (!questions.length) return <div className=\"exam-container\">Loading questions...</div>;\n\n//   if (submitted && result)\n//     return (\n//       <div className=\"exam-container\">\n//         <h2>Exam Submitted</h2>\n//         <div>\n//           Score: {result.score} / {result.answers.length}\n//         </div>\n//         <button onClick={() => (window.location.hash = \"#/dashboard\")}>\n//           Return to Dashboard\n//         </button>\n//       </div>\n//     );\n\n//   const q = questions[current];\n//   const minutes = Math.floor(timeLeft / 60);\n//   const seconds = timeLeft % 60;\n\n//   return (\n//     <div className=\"exam-container\">\n//       <div style={{ textAlign: \"right\", color: \"#d32f2f\", fontWeight: 600 }}>\n//         Time Left: {minutes.toString().padStart(2, \"0\")}:{seconds.toString().padStart(2, \"0\")}\n//       </div>\n//       <h3>\n//         Question {current + 1} of {questions.length}\n//       </h3>\n//       <div>{q.question}</div>\n//       <ul style={{ listStyle: \"none\", padding: 0 }}>\n//         {q.options.map((opt, idx) => (\n//           <li\n//             key={idx}\n//             onClick={() => handleOption(idx)}\n//             style={{\n//               padding: \"8px\",\n//               margin: \"6px 0\",\n//               border: answers[current] === idx ? \"2px solid #1976d2\" : \"2px solid #ccc\",\n//               borderRadius: 6,\n//               backgroundColor: answers[current] === idx ? \"#e3f2fd\" : \"#fff\",\n//               cursor: \"pointer\",\n//             }}\n//           >\n//             {String.fromCharCode(65 + idx)}. {opt}\n//           </li>\n//         ))}\n//       </ul>\n//       <div style={{ display: \"flex\", gap: \"12px\", marginTop: \"16px\" }}>\n//         <button disabled={current === 0} onClick={() => setCurrent(current - 1)}>\n//           Previous\n//         </button>\n//         <button disabled={current === questions.length - 1} onClick={() => setCurrent(current + 1)}>\n//           Next\n//         </button>\n//         <button onClick={handleSubmit}>Submit Exam</button>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Exam;\n\nimport React, { useState, useEffect } from \"react\";\nimport { getQuestions, submitExam, getResult } from \"./api.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Exam({\n  token\n}) {\n  _s();\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState([]);\n  const [current, setCurrent] = useState(0);\n  const [submitted, setSubmitted] = useState(false);\n  const [result, setResult] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(30 * 60);\n\n  // Load state from localStorage\n  useEffect(() => {\n    const savedQuestions = JSON.parse(localStorage.getItem(\"exam_questions\"));\n    const savedAnswers = JSON.parse(localStorage.getItem(\"exam_answers\"));\n    const savedCurrent = parseInt(localStorage.getItem(\"exam_current\"));\n    const savedTime = parseInt(localStorage.getItem(\"exam_timeLeft\"));\n    if (savedQuestions !== null && savedQuestions !== void 0 && savedQuestions.length) {\n      setQuestions(savedQuestions);\n      setAnswers(savedAnswers || Array(savedQuestions.length).fill(null));\n      setCurrent(!isNaN(savedCurrent) ? savedCurrent : 0);\n      setTimeLeft(!isNaN(savedTime) ? savedTime : 30 * 60);\n    } else {\n      // Fetch from backend\n      fetchQuestions();\n    }\n  }, [token]);\n  const fetchQuestions = async () => {\n    try {\n      const res = await getQuestions(token);\n      setQuestions(res.data);\n      setAnswers(Array(res.data.length).fill(null));\n      localStorage.setItem(\"exam_questions\", JSON.stringify(res.data));\n      localStorage.setItem(\"exam_answers\", JSON.stringify(Array(res.data.length).fill(null)));\n    } catch (err) {\n      console.error(\"Failed to fetch questions:\", err);\n    }\n  };\n\n  // Timer\n  useEffect(() => {\n    if (!questions.length || submitted) return;\n    if (timeLeft <= 0) {\n      handleSubmit();\n      return;\n    }\n    const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\n    return () => clearTimeout(timer);\n  }, [timeLeft, questions.length, submitted]);\n\n  // Save state on changes\n  useEffect(() => {\n    localStorage.setItem(\"exam_current\", current);\n    localStorage.setItem(\"exam_answers\", JSON.stringify(answers));\n    localStorage.setItem(\"exam_timeLeft\", timeLeft);\n  }, [current, answers, timeLeft]);\n  const handleOption = idx => {\n    const newAnswers = [...answers];\n    newAnswers[current] = idx;\n    setAnswers(newAnswers);\n  };\n  const handleSubmit = async () => {\n    if (submitted) return;\n    const payload = questions.map((q, i) => ({\n      questionId: q._id,\n      selectedOption: answers[i]\n    }));\n    try {\n      await submitExam(payload, token);\n      setSubmitted(true);\n\n      // Clear localStorage\n      localStorage.removeItem(\"exam_questions\");\n      localStorage.removeItem(\"exam_answers\");\n      localStorage.removeItem(\"exam_current\");\n      localStorage.removeItem(\"exam_timeLeft\");\n      const r = await getResult(token);\n      setResult(r.data);\n      window.location.hash = \"#/results\";\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(err);\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Error submitting exam\");\n    }\n  };\n  if (!questions.length) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"exam-container\",\n    children: \"Loading questions...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 387,\n    columnNumber: 33\n  }, this);\n  if (submitted && result) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"exam-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Exam Submitted\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Score: \", result.score, \" / \", result.answers.length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => window.location.hash = \"#/dashboard\",\n      children: \"Return to Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 391,\n    columnNumber: 7\n  }, this);\n  const q = questions[current];\n  const minutes = Math.floor(timeLeft / 60);\n  const seconds = timeLeft % 60;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"exam-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"right\",\n        color: \"#d32f2f\",\n        fontWeight: 600\n      },\n      children: [\"Time Left: \", minutes.toString().padStart(2, \"0\"), \":\", seconds.toString().padStart(2, \"0\")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Question \", current + 1, \" of \", questions.length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: q.question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        padding: 0\n      },\n      children: q.options.map((opt, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => handleOption(idx),\n        style: {\n          padding: \"8px\",\n          margin: \"6px 0\",\n          border: answers[current] === idx ? \"2px solid #1976d2\" : \"2px solid #ccc\",\n          borderRadius: 6,\n          backgroundColor: answers[current] === idx ? \"#e3f2fd\" : \"#fff\",\n          cursor: \"pointer\"\n        },\n        children: [String.fromCharCode(65 + idx), \". \", opt]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: \"12px\",\n        marginTop: \"16px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: current === 0,\n        onClick: () => setCurrent(current - 1),\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: current === questions.length - 1,\n        onClick: () => setCurrent(current + 1),\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        children: \"Submit Exam\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 405,\n    columnNumber: 5\n  }, this);\n}\n_s(Exam, \"LVcM3/jyynNiWHDKURDdjk1DzKQ=\");\n_c = Exam;\nexport default Exam;\nvar _c;\n$RefreshReg$(_c, \"Exam\");","map":{"version":3,"names":["React","useState","useEffect","getQuestions","submitExam","getResult","jsxDEV","_jsxDEV","Exam","token","_s","questions","setQuestions","answers","setAnswers","current","setCurrent","submitted","setSubmitted","result","setResult","timeLeft","setTimeLeft","savedQuestions","JSON","parse","localStorage","getItem","savedAnswers","savedCurrent","parseInt","savedTime","length","Array","fill","isNaN","fetchQuestions","res","data","setItem","stringify","err","console","error","handleSubmit","timer","setTimeout","clearTimeout","handleOption","idx","newAnswers","payload","map","q","i","questionId","_id","selectedOption","removeItem","r","window","location","hash","_err$response","_err$response$data","alert","response","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","score","onClick","minutes","Math","floor","seconds","style","textAlign","color","fontWeight","toString","padStart","question","listStyle","padding","options","opt","margin","border","borderRadius","backgroundColor","cursor","String","fromCharCode","display","gap","marginTop","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Sridh/Desktop/new-exam-builder-ace-main/frontend/src/Exam.js"],"sourcesContent":["\r\n// import React, { useState, useEffect } from \"react\";\r\n// import axios from \"axios\";   // âœ… Add this line\r\n// import { getQuestions, submitExam, getResult } from \"./api\";\r\n// import \"./Exam.css\";\r\n\r\n// function Exam({ token }) {\r\n//   const [questions, setQuestions] = useState([]);\r\n//   const [answers, setAnswers] = useState([]);\r\n//   const [current, setCurrent] = useState(0);\r\n//   const [submitted, setSubmitted] = useState(false);\r\n//   const [result, setResult] = useState(null);\r\n//   const [timeLeft, setTimeLeft] = useState(30 * 60);\r\n\r\n//   const shuffleArray = (arr) => {\r\n//     let newArr = [...arr];\r\n//     for (let i = newArr.length - 1; i > 0; i--) {\r\n//       const j = Math.floor(Math.random() * (i + 1));\r\n//       [newArr[i], newArr[j]] = [newArr[j], newArr[i]];\r\n//     }\r\n//     return newArr;\r\n//   };\r\n\r\n//   // Load state or fetch\r\n//   useEffect(() => {\r\n//     const storedQuestions = localStorage.getItem(\"exam_questions\");\r\n//     const storedAnswers = localStorage.getItem(\"exam_answers\");\r\n//     const storedCurrent = localStorage.getItem(\"exam_current\");\r\n//     const storedTimeLeft = localStorage.getItem(\"exam_timeLeft\");\r\n\r\n//     if (storedQuestions && storedAnswers && storedCurrent && storedTimeLeft) {\r\n//       setQuestions(JSON.parse(storedQuestions));\r\n//       setAnswers(JSON.parse(storedAnswers));\r\n//       setCurrent(parseInt(storedCurrent, 10));\r\n//       setTimeLeft(parseInt(storedTimeLeft, 10));\r\n//     } else {\r\n//       getQuestions(token).then((res) => {\r\n//         const shuffled = shuffleArray(res.data);\r\n//         setQuestions(shuffled);\r\n//         setAnswers(Array(shuffled.length).fill(null));\r\n//         localStorage.setItem(\"exam_questions\", JSON.stringify(shuffled));\r\n//         localStorage.setItem(\"exam_answers\", JSON.stringify(Array(shuffled.length).fill(null)));\r\n//         localStorage.setItem(\"exam_current\", 0);\r\n//         localStorage.setItem(\"exam_timeLeft\", 30 * 60);\r\n//       });\r\n//     }\r\n//   }, [token]);\r\n\r\n//   // Save progress\r\n//   useEffect(() => {\r\n//     if (questions.length && !submitted) {\r\n//       localStorage.setItem(\"exam_questions\", JSON.stringify(questions));\r\n//       localStorage.setItem(\"exam_answers\", JSON.stringify(answers));\r\n//       localStorage.setItem(\"exam_current\", current);\r\n//       localStorage.setItem(\"exam_timeLeft\", timeLeft);\r\n//     }\r\n//   }, [questions, answers, current, timeLeft, submitted]);\r\n\r\n//   // Timer\r\n//   useEffect(() => {\r\n//     if (!questions.length || submitted) return;\r\n//     if (timeLeft <= 0) {\r\n//       handleSubmit();\r\n//       return;\r\n//     }\r\n//     const timer = setTimeout(() => {\r\n//       setTimeLeft((t) => {\r\n//         localStorage.setItem(\"exam_timeLeft\", t - 1);\r\n//         return t - 1;\r\n//       });\r\n//     }, 1000);\r\n//     return () => clearTimeout(timer);\r\n//   }, [questions.length, submitted, timeLeft]);\r\n\r\n//   const handleOption = (idx) => {\r\n//     const newAnswers = [...answers];\r\n//     newAnswers[current] = idx;\r\n//     setAnswers(newAnswers);\r\n//   };\r\n\r\n//   const handleSubmit = () => {\r\n//     if (submitted) return;\r\n//     const payload = questions.map((q, i) => ({ questionId: q._id, selectedOption: answers[i] }));\r\n\r\n//     submitExam(payload, token)\r\n//       .then(() => {\r\n//         setSubmitted(true);\r\n//         localStorage.removeItem(\"exam_questions\");\r\n//         localStorage.removeItem(\"exam_answers\");\r\n//         localStorage.removeItem(\"exam_current\");\r\n//         localStorage.removeItem(\"exam_timeLeft\");\r\n\r\n//         getResult(token).then((r) => {\r\n//           setResult(r.data);\r\n//           window.location.hash = \"#/results\";\r\n//         });\r\n//       })\r\n//       .catch(() => alert(\"Error submitting exam. Please try again.\"));\r\n//   };\r\n\r\n//   if (!questions.length && !submitted) return <div className=\"exam-container\">Loading questions...</div>;\r\n//   if (submitted && result)\r\n//     return (\r\n//       <div className=\"exam-container\">\r\n//         <h2>Exam Submitted</h2>\r\n//         <div>\r\n//           Score: {result.score} / {result.review.length}\r\n//         </div>\r\n//         <button onClick={() => (window.location.hash = \"#/dashboard\")}>Return to Dashboard</button>\r\n//       </div>\r\n//     );\r\n\r\n//   const q = questions[current];\r\n//   const minutes = Math.floor(timeLeft / 60);\r\n//   const seconds = timeLeft % 60;\r\n\r\n//   return (\r\n//     <div className=\"exam-container\">\r\n//       <div style={{ textAlign: \"right\", color: \"#d32f2f\", fontWeight: 600 }}>\r\n//         Time Left: {minutes.toString().padStart(2, \"0\")}:{seconds.toString().padStart(2, \"0\")}\r\n//       </div>\r\n//       <h3>\r\n//         Question {current + 1} of {questions.length}\r\n//       </h3>\r\n//       <div>{q.question}</div>\r\n//       <ul style={{ listStyle: \"none\", padding: 0 }}>\r\n//         {q.options.map((opt, idx) => (\r\n//           <li\r\n//             key={idx}\r\n//             onClick={() => handleOption(idx)}\r\n//             style={{\r\n//               padding: \"8px\",\r\n//               margin: \"6px 0\",\r\n//               border: answers[current] === idx ? \"2px solid #1976d2\" : \"2px solid #ccc\",\r\n//               borderRadius: 6,\r\n//               backgroundColor: answers[current] === idx ? \"#e3f2fd\" : \"#fff\",\r\n//               cursor: \"pointer\",\r\n//             }}\r\n//           >\r\n//             {String.fromCharCode(65 + idx)}. {opt}\r\n//           </li>\r\n//         ))}\r\n//       </ul>\r\n//       <div style={{ display: \"flex\", gap: \"12px\", marginTop: \"16px\" }}>\r\n//         <button disabled={current === 0} onClick={() => setCurrent((c) => c - 1)}>\r\n//           Previous\r\n//         </button>\r\n//         <button disabled={current === questions.length - 1} onClick={() => setCurrent((c) => c + 1)}>\r\n//           Next\r\n//         </button>\r\n//         <button onClick={handleSubmit}>Submit Exam</button>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import axios from \"axios\";\r\n// import \"./Exam.css\";\r\n// // Before: import { getQuestions, submitExam, getResult } from \"./api\";\r\n// import { getQuestions, submitExam, getResult } from \"./api.js\";\r\n\r\n// function Exam({ token }) {\r\n//   const [questions, setQuestions] = useState([]);\r\n//   const [answers, setAnswers] = useState([]);\r\n//   const [current, setCurrent] = useState(0);\r\n//   const [submitted, setSubmitted] = useState(false);\r\n//   const [result, setResult] = useState(null);\r\n//   const [timeLeft, setTimeLeft] = useState(30 * 60);\r\n\r\n//   // Fetch questions from backend\r\n//   useEffect(() => {\r\n//     if (!token) return;\r\n\r\n//     axios\r\n//       .get(\"http://localhost:5000/api/exam/questions\", {\r\n//         headers: { Authorization: `Bearer ${token}` },\r\n//       })\r\n//       .then((res) => {\r\n//         setQuestions(res.data);\r\n//         setAnswers(Array(res.data.length).fill(null));\r\n//       })\r\n//       .catch((err) => console.error(\"Failed to fetch questions:\", err));\r\n//   }, [token]);\r\n\r\n//   // Timer\r\n//   useEffect(() => {\r\n//     if (!questions.length || submitted) return;\r\n//     if (timeLeft <= 0) {\r\n//       handleSubmit();\r\n//       return;\r\n//     }\r\n//     const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\r\n//     return () => clearTimeout(timer);\r\n//   }, [timeLeft, questions.length, submitted]);\r\n\r\n//   const handleOption = (idx) => {\r\n//     const newAnswers = [...answers];\r\n//     newAnswers[current] = idx;\r\n//     setAnswers(newAnswers);\r\n//   };\r\n\r\n//   const handleSubmit = () => {\r\n//   if (submitted) return;\r\n\r\n//   const payload = questions.map((q, i) => ({\r\n//     questionId: q._id,\r\n//     selectedOption: answers[i],\r\n//   }));\r\n\r\n//   submitExam(payload, token)\r\n//     .then((res) => {\r\n//       setSubmitted(true);\r\n//       localStorage.removeItem(\"exam_questions\");\r\n//       localStorage.removeItem(\"exam_answers\");\r\n//       localStorage.removeItem(\"exam_current\");\r\n//       localStorage.removeItem(\"exam_timeLeft\");\r\n\r\n//       // Fetch result immediately\r\n//       getResult(token)\r\n//         .then((r) => {\r\n//           setResult(r.data);\r\n//           window.location.hash = \"#/results\";\r\n//         })\r\n//         .catch((err) => console.error(err));\r\n//     })\r\n//     .catch((err) => {\r\n//       console.error(err);\r\n//       alert(err.response?.data?.message || \"Error submitting exam\");\r\n//     });\r\n// };\r\n\r\n\r\n//   if (!questions.length) return <div className=\"exam-container\">Loading questions...</div>;\r\n\r\n//   if (submitted && result)\r\n//     return (\r\n//       <div className=\"exam-container\">\r\n//         <h2>Exam Submitted</h2>\r\n//         <div>\r\n//           Score: {result.score} / {result.answers.length}\r\n//         </div>\r\n//         <button onClick={() => (window.location.hash = \"#/dashboard\")}>\r\n//           Return to Dashboard\r\n//         </button>\r\n//       </div>\r\n//     );\r\n\r\n//   const q = questions[current];\r\n//   const minutes = Math.floor(timeLeft / 60);\r\n//   const seconds = timeLeft % 60;\r\n\r\n//   return (\r\n//     <div className=\"exam-container\">\r\n//       <div style={{ textAlign: \"right\", color: \"#d32f2f\", fontWeight: 600 }}>\r\n//         Time Left: {minutes.toString().padStart(2, \"0\")}:{seconds.toString().padStart(2, \"0\")}\r\n//       </div>\r\n//       <h3>\r\n//         Question {current + 1} of {questions.length}\r\n//       </h3>\r\n//       <div>{q.question}</div>\r\n//       <ul style={{ listStyle: \"none\", padding: 0 }}>\r\n//         {q.options.map((opt, idx) => (\r\n//           <li\r\n//             key={idx}\r\n//             onClick={() => handleOption(idx)}\r\n//             style={{\r\n//               padding: \"8px\",\r\n//               margin: \"6px 0\",\r\n//               border: answers[current] === idx ? \"2px solid #1976d2\" : \"2px solid #ccc\",\r\n//               borderRadius: 6,\r\n//               backgroundColor: answers[current] === idx ? \"#e3f2fd\" : \"#fff\",\r\n//               cursor: \"pointer\",\r\n//             }}\r\n//           >\r\n//             {String.fromCharCode(65 + idx)}. {opt}\r\n//           </li>\r\n//         ))}\r\n//       </ul>\r\n//       <div style={{ display: \"flex\", gap: \"12px\", marginTop: \"16px\" }}>\r\n//         <button disabled={current === 0} onClick={() => setCurrent(current - 1)}>\r\n//           Previous\r\n//         </button>\r\n//         <button disabled={current === questions.length - 1} onClick={() => setCurrent(current + 1)}>\r\n//           Next\r\n//         </button>\r\n//         <button onClick={handleSubmit}>Submit Exam</button>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Exam;\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { getQuestions, submitExam, getResult } from \"./api.js\";\r\n\r\nfunction Exam({ token }) {\r\n  const [questions, setQuestions] = useState([]);\r\n  const [answers, setAnswers] = useState([]);\r\n  const [current, setCurrent] = useState(0);\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [result, setResult] = useState(null);\r\n  const [timeLeft, setTimeLeft] = useState(30 * 60);\r\n\r\n  // Load state from localStorage\r\n  useEffect(() => {\r\n    const savedQuestions = JSON.parse(localStorage.getItem(\"exam_questions\"));\r\n    const savedAnswers = JSON.parse(localStorage.getItem(\"exam_answers\"));\r\n    const savedCurrent = parseInt(localStorage.getItem(\"exam_current\"));\r\n    const savedTime = parseInt(localStorage.getItem(\"exam_timeLeft\"));\r\n\r\n    if (savedQuestions?.length) {\r\n      setQuestions(savedQuestions);\r\n      setAnswers(savedAnswers || Array(savedQuestions.length).fill(null));\r\n      setCurrent(!isNaN(savedCurrent) ? savedCurrent : 0);\r\n      setTimeLeft(!isNaN(savedTime) ? savedTime : 30 * 60);\r\n    } else {\r\n      // Fetch from backend\r\n      fetchQuestions();\r\n    }\r\n  }, [token]);\r\n\r\n  const fetchQuestions = async () => {\r\n    try {\r\n      const res = await getQuestions(token);\r\n      setQuestions(res.data);\r\n      setAnswers(Array(res.data.length).fill(null));\r\n      localStorage.setItem(\"exam_questions\", JSON.stringify(res.data));\r\n      localStorage.setItem(\"exam_answers\", JSON.stringify(Array(res.data.length).fill(null)));\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch questions:\", err);\r\n    }\r\n  };\r\n\r\n  // Timer\r\n  useEffect(() => {\r\n    if (!questions.length || submitted) return;\r\n    if (timeLeft <= 0) {\r\n      handleSubmit();\r\n      return;\r\n    }\r\n    const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\r\n    return () => clearTimeout(timer);\r\n  }, [timeLeft, questions.length, submitted]);\r\n\r\n  // Save state on changes\r\n  useEffect(() => {\r\n    localStorage.setItem(\"exam_current\", current);\r\n    localStorage.setItem(\"exam_answers\", JSON.stringify(answers));\r\n    localStorage.setItem(\"exam_timeLeft\", timeLeft);\r\n  }, [current, answers, timeLeft]);\r\n\r\n  const handleOption = (idx) => {\r\n    const newAnswers = [...answers];\r\n    newAnswers[current] = idx;\r\n    setAnswers(newAnswers);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (submitted) return;\r\n    const payload = questions.map((q, i) => ({\r\n      questionId: q._id,\r\n      selectedOption: answers[i],\r\n    }));\r\n\r\n    try {\r\n      await submitExam(payload, token);\r\n      setSubmitted(true);\r\n\r\n      // Clear localStorage\r\n      localStorage.removeItem(\"exam_questions\");\r\n      localStorage.removeItem(\"exam_answers\");\r\n      localStorage.removeItem(\"exam_current\");\r\n      localStorage.removeItem(\"exam_timeLeft\");\r\n\r\n      const r = await getResult(token);\r\n      setResult(r.data);\r\n      window.location.hash = \"#/results\";\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(err.response?.data?.message || \"Error submitting exam\");\r\n    }\r\n  };\r\n\r\n  if (!questions.length) return <div className=\"exam-container\">Loading questions...</div>;\r\n\r\n  if (submitted && result)\r\n    return (\r\n      <div className=\"exam-container\">\r\n        <h2>Exam Submitted</h2>\r\n        <div>\r\n          Score: {result.score} / {result.answers.length}\r\n        </div>\r\n        <button onClick={() => (window.location.hash = \"#/dashboard\")}>Return to Dashboard</button>\r\n      </div>\r\n    );\r\n\r\n  const q = questions[current];\r\n  const minutes = Math.floor(timeLeft / 60);\r\n  const seconds = timeLeft % 60;\r\n\r\n  return (\r\n    <div className=\"exam-container\">\r\n      <div style={{ textAlign: \"right\", color: \"#d32f2f\", fontWeight: 600 }}>\r\n        Time Left: {minutes.toString().padStart(2, \"0\")}:{seconds.toString().padStart(2, \"0\")}\r\n      </div>\r\n      <h3>\r\n        Question {current + 1} of {questions.length}\r\n      </h3>\r\n      <div>{q.question}</div>\r\n      <ul style={{ listStyle: \"none\", padding: 0 }}>\r\n        {q.options.map((opt, idx) => (\r\n          <li\r\n            key={idx}\r\n            onClick={() => handleOption(idx)}\r\n            style={{\r\n              padding: \"8px\",\r\n              margin: \"6px 0\",\r\n              border: answers[current] === idx ? \"2px solid #1976d2\" : \"2px solid #ccc\",\r\n              borderRadius: 6,\r\n              backgroundColor: answers[current] === idx ? \"#e3f2fd\" : \"#fff\",\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            {String.fromCharCode(65 + idx)}. {opt}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <div style={{ display: \"flex\", gap: \"12px\", marginTop: \"16px\" }}>\r\n        <button disabled={current === 0} onClick={() => setCurrent(current - 1)}>Previous</button>\r\n        <button disabled={current === questions.length - 1} onClick={() => setCurrent(current + 1)}>Next</button>\r\n        <button onClick={handleSubmit}>Submit Exam</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Exam;\r\n"],"mappings":";;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}