{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sridh\\\\Desktop\\\\new-exam-builder-ace-main\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from \"react\";\n// import Auth from \"./Auth\";\n// import Dashboard from \"./Dashboard\";\n// import Exam from \"./Exam\";\n// import Results from \"./Results\";\n// import { checkExamStatus } from \"./api\";\n\n// function App() {\n//   const [token, setToken] = useState(localStorage.getItem(\"token\"));\n//   const [route, setRoute] = useState(window.location.hash.replace(\"#/\", \"\") || \"dashboard\");\n//   const [submitted, setSubmitted] = useState(false);\n//   const [userId, setUserId] = useState(localStorage.getItem(\"userId\") || null);\n\n//   useEffect(() => {\n//     const onHashChange = () => {\n//       setRoute(window.location.hash.replace(\"#/\", \"\") || \"dashboard\");\n//     };\n//     window.addEventListener(\"hashchange\", onHashChange);\n//     return () => window.removeEventListener(\"hashchange\", onHashChange);\n//   }, []);\n\n//   useEffect(() => {\n//     if (!token) return;\n//     checkExamStatus(token)\n//       .then((res) => setSubmitted(res.data.taken))\n//       .catch((err) => console.error(err));\n//   }, [token]);\n\n//   const handleAuth = (t, id, username) => {\n//     setToken(t);\n//     setUserId(id);\n//     localStorage.setItem(\"token\", t);\n//     localStorage.setItem(\"userId\", id);\n//     localStorage.setItem(\"username\", username);\n//     window.location.hash = \"#/dashboard\";\n//   };\n\n//   const handleLogout = () => {\n//     setToken(null);\n//     setUserId(null);\n//     localStorage.clear();\n//     window.location.hash = \"#/login\";\n//   };\n\n//   if (!token) {\n//     if (route === \"login\" || route === \"\") return <Auth onAuth={handleAuth} />;\n//     window.location.hash = \"#/login\";\n//     return null;\n//   }\n\n//   if (route === \"dashboard\") return <Dashboard onLogout={handleLogout} submitted={submitted} />;\n//   if (route === \"exam\") return <Exam token={token} />;\n//   if (route === \"results\") return <Results token={token} />;\n\n//   return <Dashboard onLogout={handleLogout} submitted={submitted} />;\n// }\n\n// export default App;\n\n// import React, { useState, useEffect } from \"react\";\n// import Auth from \"./Auth\";\n// import Dashboard from \"./Dashboard\";\n// import Exam from \"./Exam\";\n// import Results from \"./Results\";\n\n// function App() {\n//   const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n//   const [userId, setUserId] = useState(localStorage.getItem(\"userId\") || \"\");\n//   const [page, setPage] = useState(\"login\");\n\n//   useEffect(() => {\n//     const handleHashChange = () => {\n//       const hash = window.location.hash.replace(\"#/\", \"\");\n//       if (hash) setPage(hash);\n//       else {\n//         // redirect to dashboard if token exists\n//         setPage(token ? \"dashboard\" : \"login\");\n//         window.location.hash = token ? \"#/dashboard\" : \"#/login\";\n//       }\n//     };\n\n//     window.addEventListener(\"hashchange\", handleHashChange);\n//     handleHashChange(); // run on page load\n//     return () => window.removeEventListener(\"hashchange\", handleHashChange);\n//   }, [token]);\n\n//   const handleAuth = (newToken, newUserId) => {\n//     localStorage.setItem(\"token\", newToken);\n//     localStorage.setItem(\"userId\", newUserId);\n//     setToken(newToken);\n//     setUserId(newUserId);\n//     window.location.hash = \"#/dashboard\"; // redirect after login\n//   };\n\n//   const handleLogout = () => {\n//     localStorage.removeItem(\"token\");\n//     localStorage.removeItem(\"userId\");\n//     setToken(\"\");\n//     setUserId(\"\");\n//     window.location.hash = \"#/login\";\n//   };\n\n//   if (!token) return <Auth onAuth={handleAuth} />;\n\n//   switch (page) {\n//     case \"dashboard\":\n//       return <Dashboard onLogout={handleLogout} />;\n//     case \"exam\":\n//       return <Exam token={token} />;\n//     case \"results\":\n//       return <Results token={token} />;\n//     default:\n//       window.location.hash = \"#/dashboard\";\n//       return null;\n//   }\n// }\n\n// export default App;\n\nimport React, { useState, useEffect } from \"react\";\nimport Auth from \"./Auth\";\nimport Dashboard from \"./Dashboard\";\nimport Exam from \"./Exam\";\nimport Results from \"./Results\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n  const [page, setPage] = useState(\"login\"); // login, dashboard, exam, results\n\n  useEffect(() => {\n    const hash = window.location.hash.replace(\"#/\", \"\");\n    if (hash) setPage(hash);\n    window.addEventListener(\"hashchange\", () => setPage(window.location.hash.replace(\"#/\", \"\")));\n    return () => window.removeEventListener(\"hashchange\", () => {});\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"username\");\n    setToken(\"\");\n    setPage(\"login\");\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [page === \"login\" && /*#__PURE__*/_jsxDEV(Auth, {\n      setToken: setToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 28\n    }, this), page === \"dashboard\" && /*#__PURE__*/_jsxDEV(Dashboard, {\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 32\n    }, this), page === \"exam\" && /*#__PURE__*/_jsxDEV(Exam, {\n      token: token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 27\n    }, this), page === \"results\" && /*#__PURE__*/_jsxDEV(Results, {\n      token: token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"13kswY08evPTlFIUKqNt1lOdr3U=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Auth","Dashboard","Exam","Results","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","token","setToken","localStorage","getItem","page","setPage","hash","window","location","replace","addEventListener","removeEventListener","handleLogout","removeItem","children","fileName","_jsxFileName","lineNumber","columnNumber","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/Sridh/Desktop/new-exam-builder-ace-main/frontend/src/App.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import Auth from \"./Auth\";\r\n// import Dashboard from \"./Dashboard\";\r\n// import Exam from \"./Exam\";\r\n// import Results from \"./Results\";\r\n// import { checkExamStatus } from \"./api\";\r\n\r\n// function App() {\r\n//   const [token, setToken] = useState(localStorage.getItem(\"token\"));\r\n//   const [route, setRoute] = useState(window.location.hash.replace(\"#/\", \"\") || \"dashboard\");\r\n//   const [submitted, setSubmitted] = useState(false);\r\n//   const [userId, setUserId] = useState(localStorage.getItem(\"userId\") || null);\r\n\r\n//   useEffect(() => {\r\n//     const onHashChange = () => {\r\n//       setRoute(window.location.hash.replace(\"#/\", \"\") || \"dashboard\");\r\n//     };\r\n//     window.addEventListener(\"hashchange\", onHashChange);\r\n//     return () => window.removeEventListener(\"hashchange\", onHashChange);\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (!token) return;\r\n//     checkExamStatus(token)\r\n//       .then((res) => setSubmitted(res.data.taken))\r\n//       .catch((err) => console.error(err));\r\n//   }, [token]);\r\n\r\n//   const handleAuth = (t, id, username) => {\r\n//     setToken(t);\r\n//     setUserId(id);\r\n//     localStorage.setItem(\"token\", t);\r\n//     localStorage.setItem(\"userId\", id);\r\n//     localStorage.setItem(\"username\", username);\r\n//     window.location.hash = \"#/dashboard\";\r\n//   };\r\n\r\n//   const handleLogout = () => {\r\n//     setToken(null);\r\n//     setUserId(null);\r\n//     localStorage.clear();\r\n//     window.location.hash = \"#/login\";\r\n//   };\r\n\r\n//   if (!token) {\r\n//     if (route === \"login\" || route === \"\") return <Auth onAuth={handleAuth} />;\r\n//     window.location.hash = \"#/login\";\r\n//     return null;\r\n//   }\r\n\r\n//   if (route === \"dashboard\") return <Dashboard onLogout={handleLogout} submitted={submitted} />;\r\n//   if (route === \"exam\") return <Exam token={token} />;\r\n//   if (route === \"results\") return <Results token={token} />;\r\n\r\n//   return <Dashboard onLogout={handleLogout} submitted={submitted} />;\r\n// }\r\n\r\n// export default App;\r\n\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import Auth from \"./Auth\";\r\n// import Dashboard from \"./Dashboard\";\r\n// import Exam from \"./Exam\";\r\n// import Results from \"./Results\";\r\n\r\n// function App() {\r\n//   const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\r\n//   const [userId, setUserId] = useState(localStorage.getItem(\"userId\") || \"\");\r\n//   const [page, setPage] = useState(\"login\");\r\n\r\n//   useEffect(() => {\r\n//     const handleHashChange = () => {\r\n//       const hash = window.location.hash.replace(\"#/\", \"\");\r\n//       if (hash) setPage(hash);\r\n//       else {\r\n//         // redirect to dashboard if token exists\r\n//         setPage(token ? \"dashboard\" : \"login\");\r\n//         window.location.hash = token ? \"#/dashboard\" : \"#/login\";\r\n//       }\r\n//     };\r\n\r\n//     window.addEventListener(\"hashchange\", handleHashChange);\r\n//     handleHashChange(); // run on page load\r\n//     return () => window.removeEventListener(\"hashchange\", handleHashChange);\r\n//   }, [token]);\r\n\r\n//   const handleAuth = (newToken, newUserId) => {\r\n//     localStorage.setItem(\"token\", newToken);\r\n//     localStorage.setItem(\"userId\", newUserId);\r\n//     setToken(newToken);\r\n//     setUserId(newUserId);\r\n//     window.location.hash = \"#/dashboard\"; // redirect after login\r\n//   };\r\n\r\n//   const handleLogout = () => {\r\n//     localStorage.removeItem(\"token\");\r\n//     localStorage.removeItem(\"userId\");\r\n//     setToken(\"\");\r\n//     setUserId(\"\");\r\n//     window.location.hash = \"#/login\";\r\n//   };\r\n\r\n//   if (!token) return <Auth onAuth={handleAuth} />;\r\n\r\n//   switch (page) {\r\n//     case \"dashboard\":\r\n//       return <Dashboard onLogout={handleLogout} />;\r\n//     case \"exam\":\r\n//       return <Exam token={token} />;\r\n//     case \"results\":\r\n//       return <Results token={token} />;\r\n//     default:\r\n//       window.location.hash = \"#/dashboard\";\r\n//       return null;\r\n//   }\r\n// }\r\n\r\n// export default App;\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Auth from \"./Auth\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport Exam from \"./Exam\";\r\nimport Results from \"./Results\";\r\n\r\nfunction App() {\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\r\n  const [page, setPage] = useState(\"login\"); // login, dashboard, exam, results\r\n\r\n  useEffect(() => {\r\n    const hash = window.location.hash.replace(\"#/\", \"\");\r\n    if (hash) setPage(hash);\r\n    window.addEventListener(\"hashchange\", () => setPage(window.location.hash.replace(\"#/\", \"\")));\r\n    return () => window.removeEventListener(\"hashchange\", () => {});\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"username\");\r\n    setToken(\"\");\r\n    setPage(\"login\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {page === \"login\" && <Auth setToken={setToken} />}\r\n      {page === \"dashboard\" && <Dashboard onLogout={handleLogout} />}\r\n      {page === \"exam\" && <Exam token={token} />}\r\n      {page === \"results\" && <Results token={token} />}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}